<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Liquid Fire</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
<meta name="dummy/config/environment" content="%7B%22modulePrefix%22%3A%22dummy%22%2C%22environment%22%3A%22production%22%2C%22rootURL%22%3A%22/liquid-fire/%22%2C%22locationType%22%3A%22auto%22%2C%22EmberENV%22%3A%7B%22FEATURES%22%3A%7B%7D%2C%22EXTEND_PROTOTYPES%22%3A%7B%22Date%22%3Afalse%7D%7D%2C%22APP%22%3A%7B%7D%2C%22fastboot%22%3A%7B%22hostWhitelist%22%3A%5B%22localhost%3A4200%22%2C%22ember-animation.github.io%22%5D%7D%2C%22something%22%3A%22test%22%2C%22exportApplicationGlobal%22%3Afalse%7D" />
<!-- EMBER_CLI_FASTBOOT_TITLE -->

    <link integrity="" rel="stylesheet" href="/liquid-fire/assets/vendor-f0b19cccb826fa442f7b2f406025feb4.css">
    <link integrity="" rel="stylesheet" href="/liquid-fire/assets/dummy-a33da26103a2e67d1c6fe3eaf4e9a278.css">

    
  </head>
  <body>
    <script type="x/boundary" id="fastboot-body-start"></script><div id="ember2606" class="ember-view"><div class="header">
  <div class="container">
    <div class="row">
      <div class="col-xs-6">Liquid Fire</div>
      <div class="col-xs-6 mark-holder">
        <a href="https://ember-animation.github.io/liquid-fire/">
          <img src="/liquid-fire/GitHub-Mark-Light-32px-d56df49a807a9fd06eb1667a84d3810e.png">
        </a>
      </div>
    </div>
  </div>
</div>

<div class="container main">
  <div>
    <div class="content">
      <div class="clearfix">
        <div id="ember2608" class="nav-link back ember-view"><a href="/liquid-fire/transitions/defining" id="ember2609" class="ember-view">        <div class="glyphicon glyphicon-chevron-left"></div>
      Defining custom transitions
<!----></a></div>
        <div id="ember2610" class="nav-link forward ember-view"><!----></div>
      </div>
      <h2>Animation Primitives</h2>

<p>The library exports these animation primitives:</p>

<dl>
  <dt><code>animate($elt, props, opts, <em>label</em>)</code></dt>

  <dd>
    This operates on the given jQuery-wrapped <code>$elt</code>, and always
    returns a promise (even if the $elt is undefined). <code>props</code> and <code>opts</code> are
    passed directly through
    to <a href="http://julian.com/research/velocity/#arguments">Velocity's
    animate function</a>. <code>label</code> is an optional string
    that you can use to refer to this animation while it's running.
  </dd>

  <dt><code>stop($elt)</code></dt>
  <dd>
    This stops any currently running animations on the given element.
  </dd>

  <dt><code>isAnimating($elt, label)</code></dt>
  <dd>Tests whether an animation with the given label is currently
    running on this element.
  </dd>

  <dt><code>timeSpent($elt, label)</code></dt>
  <dd>
    Returns the number of milliseconds already spent running the
    labeled animation. Useful when adaptively interrupting in-progress
    animations.
  </dd>

  <dt><code>timeRemaining($elt, label)</code></dt>
  <dd>
    Returns the number of milliseconds remaining for the labeled
    animation. Useful when adaptively interrupting in-progress
    animations.
  </dd>

  <dt><code>finish($elt, label)</code></dt>
  <dd>Returns a promise that resolves when the running animation with
  the given label on the given element completes.</dd>

</dl>

<h3>Demo</h3>

<p>This shows a slow fade effect so you can experiment with
interrupting the transition. Notice that it has two different
behaviors depending on whether you interrupt the fade-out or
fade-in.</p>

<div id="interrupted-fade-demo">
  <a href="/liquid-fire/transitions/primitives" id="ember2613" class="active ember-view">One</a>
  <a href="/liquid-fire/transitions/primitives/two" id="ember2614" class="ember-view">Two</a>
  <a href="/liquid-fire/transitions/primitives/three" id="ember2618" class="ember-view">Three</a>
  <div id="ember2624" class="liquid-container ember-view"><div id="ember2627" class="liquid-child ember-view"><div class="one">One</div>
</div></div>
</div>

<pre id="ember2629" class="javascript ember-view">import {
  isAnimating,
  finish,
  timeSpent,
  animate,
  stop
} from "liquid-fire";
export default function fade(opts={}) {
  let firstStep;
  let outOpts = opts;
  let fadingElement = findFadingElement(this);

  if (fadingElement) {
    // We still have some older version that is in the process of
    // fading out, so out first step is waiting for it to finish.
    firstStep = finish(fadingElement, 'fade-out');
  } else {
    if (isAnimating(this.oldElement, 'fade-in')) {
      // if the previous view is partially faded in, scale its
      // fade-out duration appropriately.
      outOpts = { duration: timeSpent(this.oldElement, 'fade-in') };
    }
    stop(this.oldElement);
    firstStep = animate(this.oldElement, {opacity: 0}, outOpts, 'fade-out');
  }
  return firstStep.then(() =&gt; {
    return animate(this.newElement, {opacity: [(opts.maxOpacity || 1), 0]}, opts, 'fade-in');
  });
}

function findFadingElement(context) {
  for (let i = 0; i &lt; context.older.length; i++) {
    let entry = context.older[i];
    if (isAnimating(entry.element, 'fade-out')) {
      return entry.element;
    }
  }
  if (isAnimating(context.oldElement, 'fade-out')) {
    return context.oldElement;
  }
}
</pre>

      <div class="clearfix">
        <div id="ember2630" class="nav-link back ember-view"><a href="/liquid-fire/transitions/defining" id="ember2631" class="ember-view">        <div class="glyphicon glyphicon-chevron-left"></div>
      Defining custom transitions
<!----></a></div>
        <div id="ember2632" class="nav-link forward ember-view"><!----></div>
      </div>
    </div>

    <ul>
      <li>
          <a href="/liquid-fire/" id="ember2633" class="ember-view">Introduction</a>

<!---->      </li>
      <li>
          <a href="/liquid-fire/installation" id="ember2634" class="ember-view">Installation &amp; Compatibility</a>

<!---->      </li>
      <li>
          <a href="/liquid-fire/cookbook" id="ember2638" class="ember-view">Cookbook</a>

<!---->      </li>
      <li>
          <a href="/liquid-fire/helpers" id="ember2642" class="ember-view">Template Helpers</a>

          <ul>
            <li>
                <a href="/liquid-fire/helpers/liquid-outlet" id="ember2646" class="ember-view">liquid-outlet</a>
            </li>
            <li>
                <a href="/liquid-fire/helpers/liquid-bind" id="ember2650" class="ember-view">liquid-bind (inline form)</a>
            </li>
            <li>
                <a href="/liquid-fire/helpers/liquid-bind-block" id="ember2651" class="ember-view">liquid-bind (block form)</a>
            </li>
            <li>
                <a href="/liquid-fire/helpers/liquid-if" id="ember2652" class="ember-view">liquid-if</a>
            </li>
            <li>
                <a href="/liquid-fire/helpers/liquid-spacer" id="ember2653" class="ember-view">liquid-spacer</a>
            </li>
          </ul>
      </li>
      <li>
          <a href="/liquid-fire/transition-map" id="ember2657" class="ember-view">Transition Map</a>

          <ul>
            <li>
                <a href="/liquid-fire/transition-map/route-constraints" id="ember2664" class="ember-view">Matching by route &amp; model</a>
            </li>
            <li>
                <a href="/liquid-fire/transition-map/outlet-constraints" id="ember2665" class="ember-view">Matching by outlet</a>
            </li>
            <li>
                <a href="/liquid-fire/transition-map/value-constraints" id="ember2669" class="ember-view">Matching by value</a>
            </li>
            <li>
                <a href="/liquid-fire/transition-map/media-constraints" id="ember2673" class="ember-view">Matching by media query</a>
            </li>
            <li>
                <a href="/liquid-fire/transition-map/dom-constraints" id="ember2674" class="ember-view">Matching by DOM context</a>
            </li>
            <li>
                <a href="/liquid-fire/transition-map/initial-constraints" id="ember2675" class="ember-view">Matching initial renders</a>
            </li>
            <li>
                <a href="/liquid-fire/transition-map/choosing-transitions" id="ember2679" class="ember-view">Choosing transition animations</a>
            </li>
            <li>
                <a href="/liquid-fire/transition-map/debugging-constraints" id="ember2680" class="ember-view">Debugging transition matching</a>
            </li>
          </ul>
      </li>
      <li>
          <a href="/liquid-fire/transitions" id="ember2684" class="active ember-view">Transitions</a>

          <ul>
            <li>
                <a href="/liquid-fire/transitions/predefined" id="ember2688" class="ember-view">Predefined transitions</a>
            </li>
            <li>
                <a href="/liquid-fire/transitions/explode" id="ember2692" class="ember-view">explode</a>
            </li>
            <li>
                <a href="/liquid-fire/transitions/defining" id="ember2696" class="ember-view">Defining custom transitions</a>
            </li>
            <li>
                <a href="/liquid-fire/transitions/primitives" id="ember2697" class="active ember-view">Animation Primitives</a>
            </li>
          </ul>
      </li>
    </ul>
  </div>
</div>

<div id="ember2698" class="ember-view"></div></div><script type="x/boundary" id="fastboot-body-end"></script>

    <script src="/liquid-fire/assets/vendor-309f08f9bdaa41319892f048635fbe3e.js"></script>
    <script src="/liquid-fire/assets/dummy-cbadcab58007c24ff12afae926a4cd71.js"></script>

    
  </body>
</html>
